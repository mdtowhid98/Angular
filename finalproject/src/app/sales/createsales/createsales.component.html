<!-- createsales.component.html -->
<div class="container">
  <h2>Create Sales</h2>
  <form [formGroup]="salesForm" (ngSubmit)="createSales()">
    <div class="form-group">
      <label for="customername">Customer Name:</label>
      <input id="customername" type="text" class="form-control" formControlName="customername" />
    </div>
    <div class="form-group">
      <label for="salesdate">Sales Date:</label>
      <input id="salesdate" type="date" class="form-control" formControlName="salesdate" />
    </div>

    <div formArrayName="products">
      <div *ngFor="let product of productsArray.controls; let i=index" [formGroupName]="i" class="product-group">
        <div class="form-group">
          <label for="productname-{{i}}">Product:</label>
          <select id="productname-{{i}}" class="form-control" formControlName="name">
            <option *ngFor="let product of products" [value]="product.name">{{ product.name }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="quantity-{{i}}">Quantity:</label>
          <input id="quantity-{{i}}" type="number" class="form-control" formControlName="quantity" />
        </div>
        <div class="form-group">
          <label for="unitprice-{{i}}">Unit Price:</label>
          <input id="unitprice-{{i}}" type="text" class="form-control" formControlName="unitprice" [disabled]="true" />
        </div>
        <button type="button" class="btn btn-danger" (click)="removeProduct(i)">Remove</button>
      </div>
    </div>

    <div class="form-group">
      <button type="button" class="btn btn-secondary" (click)="addProduct()">Add Product</button>
    </div>

    <div class="form-group">
      <label for="totalprice">Total Price:</label>
      <input id="totalprice" type="text" class="form-control" formControlName="totalprice" [disabled]="true" />
    </div>

    <button type="submit" class="btn btn-primary">Create Sale</button>
  </form>
</div>

